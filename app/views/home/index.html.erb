<h1>
  Document Library
</h1>

<table class="table table-striped">
  <thead>
    <tr>
      <th>File Name</th>
      <th>File Path</th>
      <th>Size</th>
      <th>Last Modified</th>
    </tr>
  </thead>
  <tbody>
    <% if @files && @files.count > 0 %>
      <% @files.each do |k, v| %>
        <tr>
          <td colspan="4" class="album-heading"><%= k %></td>
        </tr>

        <% v[:files].each do |f| %>
          <tr>
            <td class="file_name"><%= link_to File.basename(f[:file_name]), f[:file_url], target: '_blank' %></td>
            <td class="file_path"><%= File.dirname(f[:file_name].gsub(v[:album_path] + '/', '')) %></td>
            <td class="file_size"><%= (f[:file_size].to_f / (1024 * 1024)).round(2) %> MB</td>
            <% d = DateTime.parse(f[:last_modified].to_s) %>
            <td class="file_modified"><%= d.in_time_zone('Eastern Time (US & Canada)').strftime('%d/%m/%Y @ %l:%M%P EST') %></td>
          </tr>
        <% end %>
      <% end %>
    <% else %>
      <tr>
        <td colspan="4" class="album-heading">Nothing To Show Here!</td>
      </tr>
    <% end %>
  </tbody>
</table>